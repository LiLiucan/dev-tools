{"version":3,"sources":["layouts/basic_layout/index.tsx","layouts/index.tsx","router/router.ts","views/demo/index.tsx","router/index.tsx","utils/helper.ts","utils/request.ts","utils/env.ts","services/demo.ts","models/demo.ts","store.ts","app.tsx","index.tsx","layouts/basic_layout/index.module.scss","views/demo/index.module.scss"],"names":["BasicLayout","props","children","react_default","a","createElement","className","styles","withRouter","basic_layout","routerConfig","exact","path","component","_useState","useState","_useState2","Object","slicedToArray","_numberArr1","setNumberArr1","_useState3","_useState4","_numberArr2","setNumberArr2","container","input","onChange","event","target","value","split","style","marginTop","paddingLeft","map","item","index","fontSize","objectSpread2","color","Router","react_router_dom","layouts","react_router","assign","key","toString","prototype","isType","type","x","call","slice","codeMessage","200","201","202","204","400","401","403","404","406","410","422","500","502","503","504","instance","axios","create","timeout","interceptors","request","use","config","error","Promise","reject","response","data","code","status","console","errorHandler","ua","document","toDataURL","indexOf","navigator","userAgent","toLowerCase","login","test","match","window","location","href","url","method","models_demo","state","userInfo","effects","dispatch","loginAsync","payload","rootState","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","DemoService","sent","demo","setUserInfo","abrupt","stop","reducers","store","init","models","plugins","createLoadingPlugin","App","es","router","Sentry","dsn","release","process","ReactDOM","render","app","getElementById","module","exports","basic-layout"],"mappings":"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","file":"static/js/main.js","sourcesContent":["import React, { FC } from 'react';\nimport styles from './index.module.scss';\n\nconst BasicLayout: FC = props => {\n  const { children } = props;\n  return <div className={styles['basic-layout']}>{children}</div>;\n};\n\nexport default BasicLayout;\n","import React from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router';\nimport BasicLayout from './basic_layout';\n\nconst Layout: React.FC<RouteComponentProps> = props => {\n  const { children } = props;\n  // 可以根据 pathname 自定义选择layout组件\n  // console.log(props.location.pathname);\n  return <BasicLayout>{children}</BasicLayout>;\n};\n\nexport default withRouter(Layout);\n","import { RouteProps } from 'react-router';\nimport Demo from '@/views/demo';\n\nexport const routerConfig: RouteProps[] = [\n  {\n    exact: true,\n    path: '/',\n    component: Demo,\n  },\n];\n","import React, { useState } from 'react';\nimport { Input } from 'antd';\nimport styles from './index.module.scss';\n\nconst Demo = () => {\n  const [_numberArr1, setNumberArr1] = useState([]);\n  const [_numberArr2, setNumberArr2] = useState([]);\n\n  const handleNumberAChange = (event: any) => {\n    setNumberArr1(event.target.value.split(''));\n  };\n\n  const handleNumberBChange = (event: any) => {\n    setNumberArr2(event.target.value.split(''));\n  };\n\n  return (\n    <div className={styles.container}>\n      <Input onChange={handleNumberAChange} style={{ marginTop: '32px' }} />\n      <Input onChange={handleNumberBChange} style={{ marginTop: '32px' }} />\n      <div style={{ paddingLeft: '12px' }}>\n        {_numberArr1?.map((item, index) => {\n          const style = { fontSize: '14px' };\n          return <span style={style}>{item}</span>;\n        })}\n      </div>\n      <div style={{ paddingLeft: '12px' }}>\n        {_numberArr2?.map((item, index) => {\n          const style = { fontSize: '14px' };\n          if (item === _numberArr1?.[index]) {\n            return <span style={style}>{item}</span>;\n          }\n          return <span style={{ ...style, color: 'red' }}>{item}</span>;\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Demo;\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport Layout from '@/layouts';\n\nimport { routerConfig } from './router';\n\nconst Router = () => (\n  <BrowserRouter>\n    <Layout>\n      <Switch>\n        {routerConfig.map(props => (\n          <Route {...props} key={props.path as string} />\n        ))}\n      </Switch>\n    </Layout>\n  </BrowserRouter>\n);\n\nexport default Router;\n","const { toString } = Object.prototype;\n\nexport const isUndefined = (x: any): x is undefined => typeof x === 'undefined';\n\nexport const isNumber = (x: any): x is number => typeof x === 'number' && !Number.isNaN(x);\n\nexport const isBoolean = (x: any): x is boolean => typeof x === 'boolean';\n\n// 是否为普通对象 {k:v}\nexport function isPlainObject(x: any): x is object {\n  return toString.call(x) === '[object Object]';\n}\n\nexport const isType = (type: string) => (x: any) => toString.call(x).slice(8, -1) === type;\n\nexport const isString = isType('String');\n\nexport const isFunction = isType('Function');\n","/* eslint-disable no-console */\nimport axios, { AxiosRequestConfig, AxiosError } from 'axios';\nimport { Response } from '@/schemas';\n\nconst codeMessage: { [key: string]: string } = {\n  200: '服务器成功返回请求的数据。',\n  201: '新建或修改数据成功。',\n  202: '一个请求已经进入后台排队（异步任务）。',\n  204: '删除数据成功。',\n  400: '发出的请求有错误，服务器没有进行新建或修改数据的操作。',\n  401: '用户没有权限（令牌、用户名、密码错误）。',\n  403: '用户得到授权，但是访问是被禁止的。',\n  404: '发出的请求针对的是不存在的记录，服务器没有进行操作。',\n  406: '请求的格式不可得。',\n  410: '请求的资源被永久删除，且不会再得到的。',\n  422: '当创建一个对象时，发生一个验证错误。',\n  500: '服务器发生错误，请检查服务器。',\n  502: '网关错误。',\n  503: '服务不可用，服务器暂时过载或维护。',\n  504: '网关超时。',\n};\n\nconst errorHandler = (status: number) => {\n  switch (status) {\n    default:\n      console.error(codeMessage[status]);\n      break;\n  }\n};\n\nconst instance = axios.create({\n  timeout: 5000, // 超时时间 3s\n});\n\n// 增加请求拦截器\ninstance.interceptors.request.use(\n  config => config,\n  error => Promise.reject(error),\n);\n\n// 增加响应拦截器\ninstance.interceptors.response.use(\n  response => {\n    const { data } = response;\n    // 存在业务异常 抛出给业务代码去捕获\n    // 此处和后端约定好{code:number;msg:string;data:any的response数据结构}\n    if (data.code !== 0) {\n      return Promise.reject(data);\n    }\n    // 业务正常流程返回数据\n    return data.data;\n  },\n  (error: AxiosError) => {\n    const { response } = error;\n    if (response) {\n      const { status } = response;\n      // 根据不同code 可进行不同操作\n      errorHandler(status);\n    }\n    // 抛出错误 中断流程 减少判空操作\n    return Promise.reject(error);\n  },\n);\n\nfunction request<T>(config: AxiosRequestConfig): Promise<T> {\n  return (instance.request<Response<T>>(config) as any) as Promise<T>;\n}\n\nexport default request;\n","const { REACT_APP_ENV } = process.env;\n\nconst isSupportWebp =\n  !![].map &&\n  document\n    .createElement('canvas')\n    .toDataURL('image/webp')\n    .indexOf('data:image/webp') === 0;\n\nconst ua = navigator.userAgent.toLowerCase();\n\nexport default {\n  isDev: REACT_APP_ENV === 'dev',\n  isTest: REACT_APP_ENV === 'test',\n  isUat: REACT_APP_ENV === 'uat',\n  isProd: REACT_APP_ENV === 'prod',\n  isAndroid: /linux|android/.test(ua),\n  isSafari: /safari/.test(ua) && !/chrome/.test(ua),\n  isIos: !!ua.match(/\\(i[^;]+;( u;)? cpu.+mac os x/),\n  isWeiXin: /micromessenger/.test(ua),\n  isNative: /iting/i.test(ua),\n  isMobile: /mobile/.test(ua),\n  isWeiXinDebug: /wxdebug/.test(window.location.href),\n  isSupportWebp,\n};\n","import { request } from '@/utils';\nimport { DemoSchema } from '@/schemas';\n\nexport const login = (data: DemoSchema.LoginAPI['Params']) =>\n  request<DemoSchema.LoginAPI['Response']>({\n    url: '/login/account',\n    method: 'post',\n    data,\n  });\n","/* eslint-disable  @typescript-eslint/no-unused-vars */\nimport { RootState, RootDispatch } from '@/store';\nimport { DemoService } from '@/services';\nimport { DemoSchema } from '@/schemas';\n\nexport interface ModelState {\n  userInfo: DemoSchema.LoginAPI['Response'] | null;\n}\n\nconst initialState: ModelState = { userInfo: null };\n\nexport default {\n  state: initialState,\n\n  effects: (dispatch: RootDispatch) => ({\n    async loginAsync(payload: DemoSchema.LoginAPI['Params'], rootState: RootState) {\n      const res = await DemoService.login(payload);\n      dispatch.demo.setUserInfo(res);\n      return res;\n    },\n  }),\n\n  reducers: {\n    setUserInfo(state: ModelState, payload: ModelState['userInfo']) {\n      return {\n        ...state,\n        userInfo: payload,\n      };\n    },\n  },\n};\n","import { init } from '@rematch/core';\nimport createLoadingPlugin from '@rematch/loading';\nimport { RematchRootDispatch, RematchRootState, LoadingState } from '@/typings/rematch';\nimport * as models from './models';\n\nexport const store = init({\n  models,\n  plugins: [createLoadingPlugin({})],\n});\n\nexport type RootState = RematchRootState<typeof models> & LoadingState<typeof models>;\n\nexport type RootDispatch = RematchRootDispatch<typeof models>;\n\nexport interface Store {\n  name: string;\n  dispatch: RootDispatch;\n  getState(): RootState;\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { hot } from 'react-hot-loader/root';\nimport { Button } from 'antd';\n\nimport Router from '@/router';\n\nimport { store } from './store';\n\nconst App = () => (\n  <Provider store={store}>\n    <Router />\n  </Provider>\n);\n\nexport default hot(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\n\nimport 'react-hot-loader';\nimport * as Sentry from '@sentry/browser';\nimport App from './app';\n\nimport '@/common/styles/index.scss';\nimport 'antd/dist/antd.css';\n\nconst { REACT_APP_ENV } = process.env;\n\nif (REACT_APP_ENV !== 'dev') {\n  Sentry.init({\n    dsn: 'https://xxxxxxxxxxx@websentry.ximalaya.com/id', // sentry dsn\n    release: REACT_APP_ENV,\n  });\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"basic-layout\":\"basic_layout_basic-layout__1MTYF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"demo_container__1TuGP\"};"],"sourceRoot":""}